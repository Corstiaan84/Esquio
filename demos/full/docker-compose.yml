version: '3'
services:
    app:
        image: app
        container_name: ui
        depends_on: 
            - sqlserver
        ports:
            - 5000:80
        build:
            context: ..\..
            dockerfile: demos/full/app-dockerfile
        environment: 
            - ConnectionStrings__Esquio=Server=tcp:sqlserver,1433;Initial Catalog=Esquio.UI;User Id=sa;Password=Password12!
    sqlserver:
        image: microsoft/mssql-server-linux
        restart: always
        ports:
            - 5433:1433
        environment:
            - ACCEPT_EULA=Y
            - SA_PASSWORD=Password12!
    # ui:
    #     image: esquioui
    #     container_name: ui
    #     depends_on:
    #         - sqlserver
    #     build:
    #         context: ..\..\..
    #         dockerfile: src/Magus.IdSrvr/Dockerfile
   